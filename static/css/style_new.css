:root {
    --dark-bg: #0a1a0f;  /* خلفية داكنة مع لمسة خضراء */
    --dark-bg-rgb: 10, 26, 15;
    --dark-container: #0f1f14;  /* خلفية المربع الرئيسي */
    --dark-container-rgb: 15, 31, 20;
    --dark-card: #162820;  /* خلفية فقاعات الرسائل */
    --dark-card-rgb: 22, 40, 32;
    --dark-accent: #007a3d;  /* اللون الأخضر السعودي الرئيسي */
    --dark-accent-rgb: 0, 122, 61;
    --dark-accent-light: #00a050;  /* اللون الأخضر الفاتح للتأثيرات */
    --dark-accent-light-rgb: 0, 160, 80;
    --dark-accent-dark: #00582d;  /* اللون الأخضر الداكن للتأثيرات */
    --dark-accent-dark-rgb: 0, 88, 45;
    --dark-accent-secondary: #9c7b4a;  /* لون ذهبي ترابي رئيسي */
    --dark-accent-secondary-rgb: 156, 123, 74;
    --dark-accent-secondary-light: #c09a6e;  /* لون ذهبي فاتح */
    --dark-accent-secondary-light-rgb: 192, 154, 110;
    --dark-accent-secondary-dark: #7a5f3a;  /* لون ذهبي داكن */
    --dark-accent-secondary-dark-rgb: 122, 95, 58;
    --dark-text: #f5f5f5;  /* لون النص الفاتح */
    --dark-text-rgb: 245, 245, 245;
    --dark-text-secondary: #b0b0b0;  /* لون النص الثانوي */
    --dark-text-secondary-rgb: 176, 176, 176;
    --dark-border: #2a3a30;  /* لون الحدود */
    --dark-border-rgb: 42, 58, 48;
    --dark-shadow: rgba(0, 0, 0, 0.2);  /* لون الظلال */
    
    --light-bg: #f5f8f6;  /* خلفية فاتحة مع لمسة خضراء */
    --light-bg-rgb: 245, 248, 246;
    --light-container: #ffffff;  /* خلفية المربع الرئيسي */
    --light-container-rgb: 255, 255, 255;
    --light-card: #f0f5f2;  /* خلفية فقاعات الرسائل */
    --light-card-rgb: 240, 245, 242;
    --light-accent: #007a3d;  /* اللون الأخضر السعودي الرئيسي */
    --light-accent-rgb: 0, 122, 61;
    --light-accent-light: #00a050;  /* اللون الأخضر الفاتح للتأثيرات */
    --light-accent-light-rgb: 0, 160, 80;
    --light-accent-dark: #00582d;  /* اللون الأخضر الداكن للتأثيرات */
    --light-accent-dark-rgb: 0, 88, 45;
    --light-accent-secondary: #9c7b4a;  /* لون ذهبي ترابي رئيسي */
    --light-accent-secondary-rgb: 156, 123, 74;
    --light-accent-secondary-light: #c09a6e;  /* لون ذهبي فاتح */
    --light-accent-secondary-light-rgb: 192, 154, 110;
    --light-accent-secondary-dark: #7a5f3a;  /* لون ذهبي داكن */
    --light-accent-secondary-dark-rgb: 122, 95, 58;
    --light-text: #1a1a1a;  /* لون النص الداكن */
    --light-text-rgb: 26, 26, 26;
    --light-text-secondary: #555555;  /* لون النص الثانوي */
    --light-text-secondary-rgb: 85, 85, 85;
    --light-border: #e0e0e0;  /* لون الحدود */
    --light-border-rgb: 224, 224, 224;
    --light-shadow: rgba(0, 0, 0, 0.1);  /* لون الظلال */
    
    --border-radius: 12px;  /* نصف قطر الحواف */
    --transition-speed: 0.3s;  /* سرعة التأثيرات الانتقالية */
}

/* تنسيقات عامة */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Cairo', 'Tajawal', sans-serif;
    line-height: 1.6;
    transition: background-color var(--transition-speed), color var(--transition-speed);
}

body.dark-theme {
    background-color: var(--dark-bg);
    color: var(--dark-text);
}

body.light-theme {
    background-color: var(--light-bg);
    color: var(--light-text);
}

/* تنسيقات الشريط الجانبي */
.sidebar {
    height: 100%;
    overflow-y: auto;
    transition: all var(--transition-speed);
}

.dark-theme .sidebar {
    background-color: var(--dark-container);
    border-left: 1px solid var(--dark-border);
}

.light-theme .sidebar {
    background-color: var(--light-container);
    border-left: 1px solid var(--light-border);
}

.sidebar-header {
    border-bottom: 1px solid;
}

.dark-theme .sidebar-header {
    border-color: var(--dark-border);
}

.light-theme .sidebar-header {
    border-color: var(--light-border);
}

.logo h1 {
    font-family: 'Amiri', serif;
    font-size: 2.5rem;
    font-weight: 700;
}

.logo span {
    font-size: 1rem;
    opacity: 0.7;
}

.dark-theme .logo {
    color: var(--dark-accent);
}

.light-theme .logo {
    color: var(--light-accent);
}

.sidebar-features ul li {
    position: relative;
    padding-right: 1.5rem;
}

/* تنسيقات المحتوى الرئيسي */
.main-content {
    height: 100%;
    transition: all var(--transition-speed);
}

.dark-theme .main-content {
    background-color: var(--dark-bg);
}

.light-theme .main-content {
    background-color: var(--light-bg);
}

.chat-header {
    border-bottom: 1px solid;
}

.dark-theme .chat-header {
    background-color: var(--dark-container);
    border-color: var(--dark-border);
}

.light-theme .chat-header {
    background-color: var(--light-container);
    border-color: var(--light-border);
}

.chat-messages {
    overflow-y: auto;
    scrollbar-width: thin;
}

.dark-theme .chat-messages {
    background-color: var(--dark-bg);
}

.light-theme .chat-messages {
    background-color: var(--light-bg);
}

/* تنسيق شريط التمرير */
.chat-messages::-webkit-scrollbar {
    width: 6px;
}

.dark-theme .chat-messages::-webkit-scrollbar-track {
    background: var(--dark-container);
}

.dark-theme .chat-messages::-webkit-scrollbar-thumb {
    background-color: var(--dark-accent);
    border-radius: 10px;
}

.light-theme .chat-messages::-webkit-scrollbar-track {
    background: var(--light-container);
}

.light-theme .chat-messages::-webkit-scrollbar-thumb {
    background-color: var(--light-accent);
    border-radius: 10px;
}

/* تنسيق الرسائل */
.message {
    display: flex;
    margin-bottom: 16px;
    animation: fadeIn 0.3s ease-in-out;
}

.message.user {
    justify-content: flex-end;
}

.message-content {
    max-width: 80%;
    padding: 12px 16px;
    border-radius: var(--border-radius);
    position: relative;
    overflow-wrap: break-word;
}

.dark-theme .message.bot .message-content {
    background-color: var(--dark-card);
    color: var(--dark-text);
    border-right: 4px solid var(--dark-accent);
}

.dark-theme .message.user .message-content {
    background-color: var(--dark-accent);
    color: white;
}

.light-theme .message.bot .message-content {
    background-color: var(--light-card);
    color: var(--light-text);
    border-right: 4px solid var(--light-accent);
}

.light-theme .message.user .message-content {
    background-color: var(--light-accent);
    color: white;
}

.message-content p {
    margin-bottom: 0.5rem;
}

.message-content p:last-child {
    margin-bottom: 0;
}

/* تنسيق منطقة الإدخال */
.chat-input-container {
    border-top: 1px solid;
}

.dark-theme .chat-input-container {
    background-color: var(--dark-container);
    border-color: var(--dark-border);
}

.light-theme .chat-input-container {
    background-color: var(--light-container);
    border-color: var(--light-border);
}

.web-search-toggle-wrapper {
    position: relative;
}

.web-search-label {
    font-size: 0.8rem;
    white-space: nowrap;
}

.dark-theme .web-search-label {
    color: var(--dark-text-secondary);
}

.light-theme .web-search-label {
    color: var(--light-text-secondary);
}

/* تنسيق المعلومات الخام من الإنترنت */
.message.raw-info {
    margin: 15px 0;
}

.dark-theme .message.raw-info .message-content {
    background-color: rgba(var(--dark-card-rgb), 0.7);
    border-right: 4px solid var(--dark-accent-secondary);
}

.light-theme .message.raw-info .message-content {
    background-color: rgba(var(--light-card-rgb), 0.7);
    border-right: 4px solid var(--light-accent-secondary);
}

.raw-info-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
    padding-bottom: 5px;
    border-bottom: 1px solid;
}

.dark-theme .raw-info-header {
    border-color: var(--dark-border);
}

.light-theme .raw-info-header {
    border-color: var(--light-border);
}

.raw-info-title {
    font-weight: bold;
    color: var(--dark-accent-secondary);
}

.toggle-raw-info {
    background: none;
    border: none;
    cursor: pointer;
    font-size: 0.9rem;
    padding: 5px 10px;
    border-radius: var(--border-radius);
    transition: all 0.2s;
}

.dark-theme .toggle-raw-info {
    color: var(--dark-accent-secondary-light);
    background-color: rgba(var(--dark-accent-secondary-rgb), 0.1);
}

.dark-theme .toggle-raw-info:hover {
    background-color: rgba(var(--dark-accent-secondary-rgb), 0.2);
}

.light-theme .toggle-raw-info {
    color: var(--light-accent-secondary-dark);
    background-color: rgba(var(--light-accent-secondary-rgb), 0.1);
}

.light-theme .toggle-raw-info:hover {
    background-color: rgba(var(--light-accent-secondary-rgb), 0.2);
}

.raw-info-content {
    max-height: 200px;
    overflow-y: auto;
    transition: max-height 0.3s ease;
    scrollbar-width: thin;
}

.raw-info-content.expanded {
    max-height: 500px;
}

.raw-info-content::-webkit-scrollbar {
    width: 4px;
}

.dark-theme .raw-info-content::-webkit-scrollbar-track {
    background: rgba(var(--dark-bg-rgb), 0.1);
}

.dark-theme .raw-info-content::-webkit-scrollbar-thumb {
    background-color: var(--dark-accent-secondary);
    border-radius: 10px;
}

.light-theme .raw-info-content::-webkit-scrollbar-track {
    background: rgba(var(--light-bg-rgb), 0.1);
}

.light-theme .raw-info-content::-webkit-scrollbar-thumb {
    background-color: var(--light-accent-secondary);
    border-radius: 10px;
}

.raw-info-source {
    font-weight: bold;
    margin-top: 10px;
    margin-bottom: 5px;
    padding-top: 5px;
    border-top: 1px dashed;
}

.dark-theme .raw-info-source {
    color: var(--dark-accent-secondary-light);
    border-color: rgba(var(--dark-border-rgb), 0.5);
}

.light-theme .raw-info-source {
    color: var(--light-accent-secondary-dark);
    border-color: rgba(var(--light-border-rgb), 0.5);
}

.raw-info-content a {
    text-decoration: none;
    font-weight: 500;
    transition: all 0.2s;
}

.dark-theme .raw-info-content a {
    color: var(--dark-accent-light);
}

.dark-theme .raw-info-content a:hover {
    color: var(--dark-accent-secondary-light);
    text-decoration: underline;
}

.light-theme .raw-info-content a {
    color: var(--light-accent);
}

.light-theme .raw-info-content a:hover {
    color: var(--light-accent-secondary);
    text-decoration: underline;
}

/* تنسيقات الشريط الجانبي للجوال */
.sidebar-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 999;
    display: none;
}

.sidebar-overlay.active {
    display: block;
}

.mobile-sidebar {
    position: fixed;
    top: 0;
    right: -280px;
    width: 280px;
    height: 100%;
    z-index: 1000;
    transition: right 0.3s ease;
    overflow-y: auto;
}

.mobile-sidebar.active {
    right: 0;
}

.dark-theme .mobile-sidebar {
    background-color: var(--dark-container);
}

.light-theme .mobile-sidebar {
    background-color: var(--light-container);
}

/* تأثيرات الحركة */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* تنسيقات الأزرار */
.btn-primary {
    background-color: var(--dark-accent);
    border-color: var(--dark-accent);
}

.btn-primary:hover, .btn-primary:focus {
    background-color: var(--dark-accent-light);
    border-color: var(--dark-accent-light);
}

.btn-outline-success {
    color: var(--dark-accent);
    border-color: var(--dark-accent);
}

.btn-outline-success:hover, .btn-outline-success:focus {
    background-color: var(--dark-accent);
    border-color: var(--dark-accent);
}

.btn-outline-danger {
    color: #dc3545;
    border-color: #dc3545;
}

.btn-outline-danger:hover, .btn-outline-danger:focus {
    background-color: #dc3545;
    border-color: #dc3545;
    color: white;
}

.btn-outline-light {
    color: var(--dark-text);
    border-color: var(--dark-border);
}

.btn-outline-light:hover, .btn-outline-light:focus {
    background-color: rgba(255, 255, 255, 0.1);
    border-color: var(--dark-text);
    color: var(--dark-text);
}

/* تنسيقات الوضع الفاتح */
.light-theme .btn-primary {
    background-color: var(--light-accent);
    border-color: var(--light-accent);
}

.light-theme .btn-primary:hover, .light-theme .btn-primary:focus {
    background-color: var(--light-accent-light);
    border-color: var(--light-accent-light);
}

.light-theme .btn-outline-success {
    color: var(--light-accent);
    border-color: var(--light-accent);
}

.light-theme .btn-outline-success:hover, .light-theme .btn-outline-success:focus {
    background-color: var(--light-accent);
    border-color: var(--light-accent);
    color: white;
}

.light-theme .btn-outline-light {
    color: var(--light-text);
    border-color: var(--light-border);
}

.light-theme .btn-outline-light:hover, .light-theme .btn-outline-light:focus {
    background-color: rgba(0, 0, 0, 0.05);
    border-color: var(--light-text);
    color: var(--light-text);
}
